{% extends "base.html" %}

{% block body %}
{% raw %}
<div class="multiview" ng-controller="MultiViewController as multi_view">
    <div class="rowcontainer">
        <div class="columncontainer" ng-repeat="column in multi_view.columns">
            <div class="close-column" ng-click="multi_view.close_column($index)">
                -
            </div>
            <div id="{{item.html_id}}" class="mvitem" ng-repeat="item in column.items">
                <ul class="itemheader" ng-controller="ItemViewMenuController as menu" style="background: {{menu.color}}">
                    <li ng-click="menu.set_color('#c0ffee')">Tree</li>
                    <li ng-click="menu.set_color('#ffffff')">Info</li>
                    <li>Search</li>
                    <li>Map</li>
                    <li ng-click="multi_view.close_item($parent.$index, $index)">Close</li>
                </ul>
                {{ item.html_id }}
                <svg id="{{item.tree_id}}" class="tree">
                    <filter id="dropshadow" height="130%">
                        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/> <!-- how much to blur -->
                        <feColorMatrix
                            type="matrix"
                            values="0.0  0.0  0.0  0.0  1.0
                                    0.0  0.0  0.0  0.0  1.0
                                    0.0  0.0  0.0  0.0  1.0
                                    0.0  0.0  0.0 10.0  0.0" />
                        <feOffset dx="0" dy="0" result="offsetblur"/> <!-- how much to offset -->
                        <feMerge> 
                            <feMergeNode/> <!-- the offset blurred image -->
                            <feMergeNode in="SourceGraphic"/> <!-- the element that the filter is applied to -->
                        </feMerge>
                    </filter>
                </svg>
            </div>
            <div class="add-row" ng-click="multi_view.add_item($index)">
                +
            </div>
        </div>
        <div class="add-column" ng-click="multi_view.add_column()">
            +
        </div>
    </div>
</div>
{% endraw %}
<div class="sidebar">
    <div id="map">
    </div>
    {% block sidebar %}
    {% endblock %}
</div>
{% endblock %}
